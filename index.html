<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google" value="notranslate">
  <title>Tangle Terminal</title>
  <link rel="stylesheet" href="style.css">

  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->

  <!-- <script type="module" src=""></script> -->


  <!-- <script src="/storage.js"></script> -->
  <script src="blockly/closure/goog/base.js"></script>
  <script src="blockly/blockly_compressed.js"></script>

  <!-- <script src="../blockly/blocks_compressed.js"></script> -->
  <script src="blockly/tngl/tngl.js"></script>
  <script src="blockly/tngl/tngl_generator.js"></script>
  <script src="blockly/tngl/tngl_blocks.js"></script>
  <script src="blockly/tngl/tngl_validators.js"></script>
  <script src="blockly/tngl/tngl_mutators.js"></script>
  <script src="msg/cs.js"></script>
  <script src="msg/js/cs.js"></script>

  <!-- <script src="lib/functions.js"></script>
  <script src="lib/TimeTrack.js"></script>
  <script src="lib/TnglReader.js"></script>
  <script src="lib/TnglWriter.js"></script>
  <script src="lib/TangleParser.js"></script>
  <script src="lib/TangleInterface.js"></script>
  <script src="lib/TangleDummyConnector.js"></script>
  <script src="lib/TangleWebBluetoothConnector.js"></script>
  <script src="lib/TangleDevice.js"></script> -->

  <!-- <script src="lib/TangleSerialConnection.js"></script>
  <script src="lib/TangleSerialDevice.js"></script> -->

  <script src="lib/webcomponents/dialog-component.js"></script>
  <script src="lib/other/jszip.min.js" defer></script>
  <script src="lib/other/wavesurfer/wavesurfer.js"></script>
  <script src="lib/other/wavesurfer/plugins/wavesurfer.cursor.js"></script>
  <script src="lib/other/wavesurfer/plugins/wavesurfer.markers.js"></script>
  <script src="lib/other/wavesurfer/plugins/wavesurfer.mediasession.js"></script>
  <script src="lib/other/wavesurfer/plugins/wavesurfer.playhead.js"></script>
  <script src="lib/other/wavesurfer/plugins/wavesurfer.timeline.js"></script>
  <script src="lib/other/wavesurfer/plugins/wavesurfer.regions.js"></script>

  <link rel="shortcut icon" href="#">
</head>

<body>


  <!-- <p id="notSupported" class="hidden" style="color:red;">
    Sorry, <b>Web Serial</b> is not supported on this device, make sure you're
    running Chrome 78 or later and have enabled the
    <code>#enable-experimental-web-platform-features</code> flag in
    <code>chrome://flags</code>
  </p> -->


  <table ondragover="handleDrop(event)" ondrop="handleDrop(event)" width="100%" height="100%">
    <tr>
      <td>
        <img src="tangle.png" alt="Tangle" style="width:80px;height:40px;">
      </td>
      <td>
        <div>
          <span>Music</span>
          <input type="file" id="music" style="width: 90px;">
          <select id="musicOutputSelect" style="width: 25%;"></select>
        </div>
        <!-- <div>
          <span>Metrn</span>
          <input type="file" id="metronome">
          <select id="metronomeOutputSelect"></select>
        </div> -->
      </td>

      <div class="" style="position: absolute;right: 10px;display: flex; margin-top: 10px;">
        <input type="text" id="filename" value="blocks">
        <button id="saveFile">Save File</button>
        <br>
        <button id="loadFile">Load File</button>
      </div>


    </tr>
    <tr>
      <td colspan="2">
        <table width="100%">
          <tr id="tabRow" height="1em">
            <td id="tab_blocks" class="tabon">...</td>
            <td class="tabmin tab_collapse">&nbsp;</td>
            <td id="tab_tngl" class="taboff tab_collapse">Tngl</td>
            <td class="tabmin tab_collapse">&nbsp;</td>
            <td id="tab_xml" class="taboff tab_collapse">XML</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_debug" class="taboff tab_collapse">Device</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_control" class="taboff tab_collapse">Control</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_code" class="taboff">
              <select id="code_menu"></select>
            </td>
            <td class="tabmax">
              <!-- <button id="trashButton" class="notext" title="...">
              <img src='../blockly/media/1x1.gif' class="trash icon21">
              </button>
              <button id="linkButton" class="notext" title="...">
                  <img src='../blockly/media/1x1.gif' class="link icon21">
              </button>
              <button id="runButton" class="notext primary" title="...">
                  <img src='../blockly/media/1x1.gif' class="run icon21">
              </button> -->

              <span style="display:none">USB</span>
              <button style="display:none" id="connectSerialButton" class="notext" title="...">
                <img src="blockly/media/1x1.gif" class="connect icon21">
              </button>

              <span>CONNECT</span>
              <button id="connectBluetoothButton" class="notext" title="...">
                <img src="blockly/media/1x1.gif" class="connect icon21">
              </button>

              <span id="revTime">0:00:00</span>
              <button id="saveButton" class="primary" title="...">
                SAVE
              </button>
              <button id="uploadButton" class="notext primary" title="...">
                <img src="blockly/media/1x1.gif" class="upload icon21">
              </button>
              <button id="playButton" class="notext primary" title="...">
                <img src="blockly/media/1x1.gif" class="play icon21">
              </button>
              <button id="cycleButton" class="notext primary" title="...">
                <img src="blockly/media/1x1.gif" class="cycle icon21">
              </button>
              <button id="pauseButton" class="notext primary" title="...">
                <img src="blockly/media/1x1.gif" class="pause icon21">
              </button>
              <button id="stopButton" class="notext primary" title="...">
                <img src="blockly/media/1x1.gif" class="stop icon21">
              </button>
              <button id="trashButton" class="notext" title="...">
                <img src="blockly/media/1x1.gif" class="trash icon21">
              </button>
            </td>
          </tr>
        </table>
      </td>
    </tr>

    <tr>
      <td height="99%" colspan="2" id="content_area">
      </td>
    </tr>
    <tr>
      <td colspan="2" id="timeline_container" style="height: 80px;">
        <!-- <audio id="timeline-old" style="display: none !important;width: 97.5%" title="timeline" controls></audio> 
        <button id="timeline_toggle" style="width: 2%; position: absolute; right: 0; z-index: 10; text-align: center; padding: 0;">^</button> -->
        <!-- <button id="playPause" style="width: 5%;">Play</button> -->
        <div class="" style="display: inline-block;width: 100%;">
          <div class="player"></div>
          <div id="waveform_container">
            <div id="waveform" style="width: 100%; height: 60px;"></div>
            <div id="timeline" style="width: 100%; height: 20px;"></div>
          </div>

        </div>

      </td>
    </tr>

  </table>
  <div id="content_blocks" class="content"></div>

  <textarea id="content_tngl" readonly data-gramm_editor="false" spellcheck="false" class="content"
    wrap="off"></textarea>
  <textarea id="content_xml" data-gramm_editor="false" spellcheck="false" class="content" wrap="off"></textarea>
  <textarea id="content_debug" data-gramm_editor="false" spellcheck="false" class="content" wrap="off"></textarea>
  <div id="content_control" class="content">
    <div style="display: flex; justify-content: space-around; flex-direction: column;max-width: 800px;margin:auto">

      <div>
        &nbsp;
      </div>

      <div>
        <div>
          OWNER <input style="width: 60%;" type="text" id="owner_identifier" value="matty">
        </div>
        <div>
          OWNER SIGNATURE <input style="width: 60%;" type="text" id="owner_signature"
            value="a06cd5c4d5741b61fee69422f2590926">
          <!-- OWNER SIGNATURE <input style="width: 60%;" type="text" id="owner_signature" value="00000000000000000000000000000000"> -->
        </div>
        <div>
          OWNER KEY <input style="width: 60%;" type="text" id="owner_key" value="bfd39c89ccc2869f240508e9a0609420">
          <!-- OWNER KEY <input style="width: 60%;" type="text" id="owner_key" value="00000000000000000000000000000000"> -->
        </div>
      </div>

      <div>
        &nbsp;
      </div>

      <div>
        CONNECTOR
        <select name="connectors" id="control_connector_select">
          <option value="default">Default</option>
          <option value="webbluetooth">Web Bluetooth</option>
          <option value="tangleconnect">Tangle Connect</option>
          <option value="webserial">Web Serial</option>
          <option value="dummy">Dummy</option>
          <option value="edummy">Dummy With Errors</option>
          <option value="vdummy">Dummy With Version</option>
          <option value="websockets">Remote Controler</option>
        </select>
      </div>

      <div>
        &nbsp;
      </div>

      <div>
        <span>

          <button id="adoptBluetoothButton">
            Adopt device
          </button>

          <button onclick="javascript:location.reload(true)">Reload</button>

          <button id="rebootNetwork">
            Network Reboot
          </button>

          <button id="rebootDevice">
            Device Reboot
          </button>

          <button id="simplifyButton">
            Remove Shadow Blocks
          </button>

          <button id="deviceFingerprintButton">
            Device Fingerprint
          </button>

          <button id="blocklyFingerprintButton">
            Blockly Fingerprint
          </button>

          <button id="removeOwnerButton">
            Remove Owner
          </button>

          <button id="fwVersionButton">
            FW Version
          </button>

          <button id="syncTnglButton">
            Sync TNGL
          </button>

          <button onclick="javascript:Code.device.connectRemoteControl()">Connect Remote Controller</button>
          <button onclick="javascript:Code.device.disconnectRemoteControl()">Disonnect Remote Controller</button>
          <button onclick="javascript:Code.device.syncClock()">Force Clock Sync</button>
          <button onclick="javascript:Code.revealConsole()">Reveal Console</button>
          <button onclick="javascript:Code.hideConsole()">Hide Console</button>
          <button onclick="javascript:Code.device.setNetworkDatarate(2000000)">Set Fast Datarate</button>
          <button onclick="javascript:Code.device.setNetworkDatarate(500000)">Set Normal Datarate</button>

          <button onclick="javascript:Code.device.readRomPhyVdd33()">Read rom_phy_vdd33</button>
          <button onclick="javascript:Code.device.readPinVoltage(34)">Read pin 34</button>
          <button onclick="javascript:Code.readDsparxBattery()">Read DSparX Battery</button>
          <button onclick="javascript:Code.device.hideHomeButton(true)">Hide Home Button</button>
          <button onclick="javascript:Code.device.goHome()">Go home</button>
          <button onclick="javascript:Code.device.setRotation(1)">Set Rotation 1</button>
          <button onclick="javascript:Code.testFlutterPing()">Test Flutter Ping</button>

        </span>

        <div>
          &nbsp;
        </div>

        <div>
          <div>
            <b>soubor FW (.enc)</b>
            <input type="file" id="otaFirmware">
            <b>nebo</b>
            <select id="fw_version_list">
              <option disabled selected value> -- Vyberte verzi -- </option>
            </select>
            <!-- <br>
            <br> -->
            <!-- <div style="width: 253px;display: inline-block;"></div> -->
            <button id="otaUpdateDeviceFirmware">
              OTA update device
            </button>
            <button id="otaUpdateNetworkFirmware">
              OTA update network
            </button>
          </div>
          
          <br>

          <div id="otaProgress">
            <div id="otaProgressBar"></div>
          </div>

          <span id="otaTimeLeft">0:00</span>

          <br>

          <div>

            <table>
              <tr>
                <textarea id="config_textarea" style="width: 100%; resize: vertical; height: 200px;">{}</textarea>
              </tr>
              <tr>
                <div>
                  <button id="otaReadDeviceConfig">
                    Read device config
                  </button>
                  <button id="otaUpdateDeviceConfig">
                    Write device config
                  </button>
                  <button id="otaUpdateNetworkConfig">
                    Write network config
                  </button>
                </div>
              </tr>
            
            </table>
          
          </div>

        </div>
      </div>

      <br>

      <div>
        üïπÔ∏è LABEL <input style="width: 10%;" type="text" id="control_label" value="evt1">
        Event Type
        <select id="control_type" style="width: 30%;">
          <option value="percentage_control">Percentage</option>
          <option value="color_control">Color</option>
          <option value="timestamp_control">Timestamp</option>
        </select>
      </div>

      <div id="percentage_control">
        üïπÔ∏è PERCENTAGE <input style="width: 10%;" type="number" id="control_percentage_value" min="0" max="100"
          value="0"> %
        -100% <input style="width: 55%;" type="range" id="control_percentage_range" min="-100" max="100" value="0"
          step="10"> 100%
      </div>

      <div id="color_control" style="display: none;">
        üïπÔ∏è COLOR <input style="width: 10%;" type="text" id="control_color_value" value="#ff0000">
        <input style="border:0" type="color" id="control_color_picker" value="#ff0000">
      </div>

      <div id="timestamp_control" style="display: none;">
        üïπÔ∏è TIMESTAMP <input style="width: 10%;" type="number" id="control_timestamp_value" min="0" max="2147483647"
          value="1000"> ms
      </div>

      <div>
        üïπÔ∏è DESTI <input style="width: 10%;" type="number" id="control_destination" value="255">
      </div>

      <br>

      <button id="control_send">Send</button>


    </div>

    <ul
      style="list-style: none;max-height: 50vh;overflow: auto; display: flex; flex-direction: column-reverse;max-width: 500px;margin:auto;margin-top: 40px;"
      id="event_logs">
    </ul>

  </div>


  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <category name="N√°povƒõda">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">V√≠tejte v n√°povƒõdƒõ!</field>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Pro p≈ôipojen√≠ k Tangle kliknƒõte na ≈°ed√©</field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT"> tlaƒç√≠tko [ üîó ]. Pro √∫spe≈°n√© p≈ôipojen√≠ je</field>
            <next>
              <block type="commentary_line" disabled="true">
                <field name="COMMENT">pot≈ôeba m√≠t povolen√Ω web serial API.</field>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Tip: Dr≈æ kurzor nad blokem, zobraz√≠ se n√°povƒõda</field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT">Tip: P≈ôet√°hnut√≠m do ko≈°e se blok sma≈æe</field>
            <next>
              <block type="commentary_line" disabled="true">
                <field name="COMMENT">Tip: Kliknut√≠ prav√Ωm na blok se zobraz√≠ nab√≠dka</field>
                <next>
                  <block type="commentary_line" disabled="true">
                    <field name="COMMENT">Tip: CTRL+C, CTRL+V, CTRL+Z funguj√≠</field>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Po sp√°rov√°n√≠</field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT">1) P≈ôet√°hni bloky do pracovn√≠ho prostoru</field>
            <next>
              <block type="commentary_line" disabled="true">
                <field name="COMMENT">2) Klikni na tlaƒç√≠tko NAHR√ÅT [ ‚¨Ü ]</field>
                <next>
                  <block type="commentary_line" disabled="true">
                    <field name="COMMENT">3) Tlaƒç√≠tkem PLAY [ ‚ñ∑ ] se animace spust√≠</field>
                    <next>
                      <block type="commentary_line" disabled="true">
                        <field name="COMMENT">4) Tlaƒç√≠tkem PAUZA [ || ] se animace pozastav√≠</field>
                        <next>
                          <block type="commentary_line" disabled="true">
                            <field name="COMMENT">5) Tlaƒç√≠tkem STOP [ ‚ñ† ] se animace zru≈°√≠</field>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Tenhle blok vykresluje animace</field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT">Prvn√≠ parametr je ƒçasov√° znaƒçka</field>
            <next>
              <block type="commentary_line" disabled="true">
                <field name="COMMENT">Druh√Ω parametr d√©lka trv√°n√≠</field>
                <next>
                  <block type="drawing">
                    <field name="START">0</field>
                    <field name="DURATION">5</field>
                    <field name="DRAW_MODE">ADD</field>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Animace "v√Ωst≈ôel" se vykon√° celkem </field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT">10 kr√°t. animace se vykresluj√≠ ve smyƒçce</field>
            <next>
              <block type="drawing">
                <field name="START">0</field>
                <field name="DURATION">5</field>
                <field name="DRAW_MODE">ADD</field>
                <value name="ANIMATION">
                  <block type="animation_plasma_shot">
                    <field name="COLOR">#ffffff</field>
                    <field name="PERCENTAGE">10</field>
                    <field name="DURATION">5</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Tmavƒõ modr√Ω blok zaƒç√≠n√° v ƒçase 10 sec</field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT">Proto≈æe je jeho ƒças posunut svƒõtle mod√Ωm</field>
            <next>
              <block type="window">
                <field name="START">10</field>
                <field name="DURATION">5</field>
                <field name="DRAW_MODE">ADD</field>
                <statement name="BODY">
                  <block type="drawing">
                    <field name="START">0</field>
                    <field name="DURATION">5</field>
                    <field name="DRAW_MODE">ADD</field>
                  </block>
                </statement>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line">
        <field name="COMMENT">P≈ô. 1 - vykreslov√°n√≠ solidn√≠ barvy</field>
        <next>
          <block type="commentary_line">
            <field name="COMMENT">P≈ôet√°hni tyto bloky na pracovn√≠ plochu!</field>
            <next>
              <block type="commentary_line">
                <field name="COMMENT">Vykreslen√≠ pl√°tna nemƒõnnou ƒçervenou barvou</field>
                <next>
                  <block type="drawing">
                    <field name="START">0</field>
                    <field name="DURATION">3600</field>
                    <field name="DRAW_MODE">ADD</field>
                    <value name="ANIMATION">
                      <block type="animation_fill">
                        <field name="COLOR">#ff0000</field>
                        <field name="DURATION">5</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line">
        <field name="COMMENT">P≈ô. 2 - vykreslov√°n√≠ efektu</field>
        <next>
          <block type="commentary_line">
            <field name="COMMENT">Vykreslen√≠ animovan√Ωch barev duhy</field>
            <next>
              <block type="drawing">
                <field name="START">0</field>
                <field name="DURATION">3600</field>
                <field name="DRAW_MODE">ADD</field>
                <value name="ANIMATION">
                  <block type="animation_rainbow">
                    <field name="ZOOM">80</field>
                    <field name="DURATION">10</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
      <block type="commentary_line">
        <field name="COMMENT">P≈ô. 3 - skl√°d√°n√≠ efekt≈Ø za sebe</field>
        <next>
          <block type="commentary_line">
            <field name="COMMENT">Animace "Night Rider"</field>
            <next>
              <block type="commentary_line">
                <field name="COMMENT">Efekt se z√°porn√Ωm ƒçasem, se p≈ôehr√°v√° pozp√°tku</field>
                <next>
                  <block type="drawing">
                    <field name="START">0</field>
                    <field name="DURATION">3600</field>
                    <field name="DRAW_MODE">ADD</field>
                    <value name="ANIMATION">
                      <block type="animation_plasma_shot">
                        <field name="COLOR">#ff0000</field>
                        <field name="PERCENTAGE">25</field>
                        <field name="DURATION">1</field>
                        <value name="NEXT">
                          <block type="animation_plasma_shot">
                            <field name="COLOR">#ff0000</field>
                            <field name="PERCENTAGE">25</field>
                            <field name="DURATION">-1</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </category>
    <category name="Za≈ô√≠zen√≠" colour="#5ba58c">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Definice za≈ô√≠zen√≠</field>
      </block>
      <block type="device_4ports">
        <field name="DEVICE_LABEL">$dev1</field>
        <field name="DEVICE_IDENTIFIER">0</field>
        <field name="DEVICE_BRIGHTNESS">255</field>
        <field name="TANGLE_A">TRUE</field>
        <field name="PORT_A_LENGTH">0</field>
        <field name="TANGLE_B">TRUE</field>
        <field name="PORT_B_LENGTH">0</field>
        <field name="TANGLE_C">TRUE</field>
        <field name="PORT_C_LENGTH">0</field>
        <field name="TANGLE_D">TRUE</field>
        <field name="PORT_D_LENGTH">0</field>
        <statement name="SENSORS">
          <shadow type="sensor_dummy"></shadow>
        </statement>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Event flow modifications</field>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykreslov√°n√≠ pouze na urƒçit√©m za≈ô√≠zen√≠</field>
      </block>
      <block type="siftcanvas_devices">
        <value name="DEVICES">
          <block type="siftcanvas_device">
            <field name="DEVICE_LABEL">$dev1</field>
            <value name="NEXT">
              <shadow type="siftcanvas_dummy_device_add"></shadow>
            </value>
          </block>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
      <block type="siftcanvas_device">
        <field name="DEVICE_LABEL">$dev2</field>
        <value name="NEXT">
          <shadow type="siftcanvas_dummy_device_add"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Definice za≈ô√≠zen√≠ 8 port≈Ø</field>
      </block>
      <block type="device_8ports">
        <field name="DEVICE_LABEL">$dev1</field>
        <field name="DEVICE_IDENTIFIER">0</field>
        <field name="DEVICE_BRIGHTNESS">255</field>
        <field name="TANGLE_A">TRUE</field>
        <field name="PORT_A_LENGTH">0</field>
        <field name="TANGLE_B">TRUE</field>
        <field name="PORT_B_LENGTH">0</field>
        <field name="TANGLE_C">TRUE</field>
        <field name="PORT_C_LENGTH">0</field>
        <field name="TANGLE_D">TRUE</field>
        <field name="PORT_D_LENGTH">0</field>
        <field name="TANGLE_E">TRUE</field>
        <field name="PORT_E_LENGTH">0</field>
        <field name="TANGLE_F">TRUE</field>
        <field name="PORT_F_LENGTH">0</field>
        <field name="TANGLE_G">TRUE</field>
        <field name="PORT_G_LENGTH">0</field>
        <field name="TANGLE_H">TRUE</field>
        <field name="PORT_H_LENGTH">0</field>
        <statement name="SENSORS">
          <shadow type="sensor_dummy"></shadow>
        </statement>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Sensory</field>
      </block>
      <block type="sensor_button" disabled="true">
        <field name="BUTTON_LABEL">$btn1</field>
        <field name="ACTION">ON_PRESSED</field>
        <field name="EVENT_LABEL">$btn1</field>
      </block>
      <block type="sensor_touch" disabled="true">
        <field name="TOUCH_LABEL">$tou1</field>
        <field name="ACTION">ON_PRESSED</field>
        <field name="EVENT_LABEL">$tou1</field>
      </block>
      <block type="sensor_gyro" disabled="true">
        <field name="ACTION">AXIES</field>
        <field name="EVENT_LABEL">$gyr1</field>
      </block>
      <block type="sensor_acc" disabled="true">
        <field name="ACTION">AXIES</field>
        <field name="EVENT_LABEL">$acc1</field>
      </block>
      <block type="sensor_gesture" disabled="true">
        <field name="ACTION">GESTURE_PROXIMITY</field>
        <field name="EVENT_LABEL">$ges1</field>
      </block>
      <block type="sensor_artnet" disabled="true">
        <field name="DMX_UNIVERSE">0</field>
        <field name="DMX_CHANNEL">1</field>
        <field name="DMX_CHANNEL_COUNT">1</field>
        <field name="EVENT_LABEL">$art1</field>
      </block>
    </category>
    <sep></sep>
    <category name="Animace" colour="#5b67a5">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykresleni animace</field>
      </block>
      <block type="drawing">
        <field name="START">0s</field>
        <field name="DURATION">5s</field>
        <field name="DRAW_MODE">ADD</field>
        <value name="ANIMATION">
          <shadow type="animation_dummy_add"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Z√°kladn√≠ animace</field>
      </block>
      <block type="animation_fill">
        <field name="COLOR">#ffffff</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_rainbow">
        <field name="ZOOM">100%</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_fade">
        <field name="COLOR1">#ffffff</field>
        <field name="COLOR2">#000000</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_plasma_shot">
        <field name="COLOR">#ffffff</field>
        <field name="PERCENTAGE">25%</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_loading_bar">
        <field name="COLOR1">#ffffff</field>
        <field name="COLOR2">#000000</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_none">
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_color_roll">
        <field name="COLOR1">#ffffff</field>
        <field name="COLOR2">#000000</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="animation_palette_roll" disabled="true">
        <field name="COLOR1">#000000</field>
        <field name="COLOR2">#000000</field>
        <field name="COLOR3">#000000</field>
        <field name="COLOR4">#000000</field>
        <field name="COLOR5">#000000</field>
        <field name="COLOR6">#000000</field>
        <field name="COLOR7">#000000</field>
        <field name="COLOR8">#000000</field>
        <field name="ZOOM">100%</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vlastni animace</field>
      </block>
      <block type="animation_definition" disabled="true">
        <field name="ANIMATION_LABEL">$ani1</field>
        <field name="DURATION">5s</field>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
      <block type="animation_call" disabled="true">
        <field name="ANIMATION_LABEL">$ani1</field>
        <field name="DURATION">5s</field>
        <value name="NEXT">
          <shadow type="animation_dummy_next"></shadow>
        </value>
      </block>
    </category>
    <category name="Vykreslov√°n√≠" colour="#5b67a5">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykreslovac√≠ okna (pl√°tna)</field>
      </block>
      <block type="window">
        <field name="START">0s</field>
        <field name="DURATION">5s</field>
        <field name="DRAW_MODE">ADD</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
      <!-- <block type="window_2">
        <field name="FROM">0s</field>
        <field name="TO">5s</field>
        <field name="DRAW_MODE">ADD</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block> -->
      <block type="modifier_brightness">
        <field name="VARIABLE_LABEL">$var1</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_timeline" disabled="true">
        <field name="TIME_SOURCE">0x01</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_fade" disabled="true">
        <field name="FADE_TYPE">FADE_IN</field>
        <field name="DURATION">0s</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_color_switch" disabled="true">
        <field name="OPTION">MODIFIER_SWITCH_RG</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_timeloop">
        <field name="LOOP">0s</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_timescale">
        <field name="VARIABLE_LABEL">$var1</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_timechange">
        <field name="FROM_TIME_UNIT">1s</field>
        <field name="TO_TIME_UNIT">1</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="modifier_settime">
        <field name="TIMESTAMP">5s</field>
        <value name="MODIFIER">
          <shadow type="modifier_dummy_add"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Posun ƒçasu</field>
      </block>
      <block type="frame">
        <field name="START">0s</field>
        <field name="DURATION">5s</field>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
    </category>
    <sep></sep>
    <category name="Eventy" colour="#5ba55b">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Event flow modifications</field>
      </block>
      <block type="event_source">
        <field name="EVENT_LABEL">evt1</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="event_replace_param">
        <field name="EVENT_PARAMETER">10s</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="event_replace_param">
        <field name="EVENT_PARAMETER">100%</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="event_replace_param">
        <field name="EVENT_PARAMETER">#ffaacc</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="event_replace_param">
        <field name="EVENT_PARAMETER">$var1</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="event_replace_param" disabled="true">
        <field name="EVENT_PARAMETER">[0xff,0xff,0xff,0xff]</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="event_emit_code">
        <field name="EVENT_LABEL">$evt1</field>
        <value name="EVENT">
          <shadow type="event_dummy_add"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Interakce</field>
      </block>
      <block type="handler_manual">
        <field name="START">0s</field>
        <field name="DURATION">1h</field>
        <field name="EVENT_LABEL">$evt1</field>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
    </category>
    <category name="Promƒõnn√©" colour="#745ba5">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Variables</field>
      </block>
      <block type="variable_create">
        <field name="LABEL">$var1</field>
        <value name="SOURCE">
          <shadow type="value_dummy"></shadow>
        </value>
      </block>
      <!-- <block type="variable_modify">
        <field name="LABEL">$var1</field>
        <value name="SOURCE">
          <shadow type="value_dummy"></shadow>
        </value>
      </block> -->
      <block type="value_read_variable">
        <field name="VARIABLE_LABEL">$var1</field>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Constants</field>
      </block>
      <block type="value_constant">
        <field name="VALUE">10s</field>
      </block>
      <block type="value_constant">
        <field name="VALUE">#ffaacc</field>
      </block>
      <block type="value_constant">
        <field name="VALUE">100%</field>
      </block>
      <block type="value_constant">
        <field name="VALUE">$var1</field>
      </block>
      <block type="value_constant" disabled="true">
        <field name="VALUE">[0xff,0xff,0xff,0xff]</field>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Math</field>
      </block>
      <block type="value_math">
        <field name="OPTION">ADD</field>
        <value name="PARAMETER_A">
          <shadow type="value_dummy"></shadow>
        </value>
        <value name="PARAMETER_B">
          <shadow type="value_dummy"></shadow>
        </value>
      </block>
      <block type="value_map">
        <value name="PARAMETER_X">
          <shadow type="value_dummy"></shadow>
        </value>
        <value name="PARAMETER_INMIN">
          <shadow type="value_dummy"></shadow>
        </value>
        <value name="PARAMETER_INMAX">
          <shadow type="value_dummy"></shadow>
        </value>
        <value name="PARAMETER_OUTMIN">
          <shadow type="value_dummy"></shadow>
        </value>
        <value name="PARAMETER_OUTMAX">
          <shadow type="value_dummy"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Generators</field>
      </block>
      <block type="generator_smoothout">
        <field name="DURATION">5s</field>
        <value name="SMOOTHED_VALUE">
          <shadow type="value_dummy"></shadow>
        </value>
      </block>
      <block type="generator_last_event_parameter">
        <field name="EVENT_LABEL">$evt1</field>
      </block>
      <block type="generator_sin" disabled="true">
        <field name="PERIOD">1s</field>
      </block>
      <block type="generator_saw" disabled="true">
        <field name="PERIOD">1s</field>
      </block>
      <block type="generator_triangle" disabled="true">
        <field name="PERIOD">1s</field>
      </block>
      <block type="generator_square" disabled="true">
        <field name="PERIOD">1s</field>
      </block>
      <block type="generator_perlin_noise" disabled="true"></block>
    </category>
    <category name="Klipy" colour="#745ba5">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Klipy budou v 0.7.0 nahrazeny trigrama </field>
        <next>
          <block type="commentary_line" disabled="true">
            <field name="COMMENT">spou≈°tƒõn√Ωch z timeline. Markry nahrazeny eventama</field>
          </block>
        </next>
      </block>
      <block type="clip_marks_definition">
        <field name="MARKS_LABEL">$mrk1</field>
        <statement name="MARKS">
          <block type="clip_mark">
            <field name="TIMESTAMP">0s</field>
            <value name="MARK">
              <shadow type="clip_dummy_mark"></shadow>
            </value>
          </block>
        </statement>
      </block>
      <block type="clip_mark">
        <field name="TIMESTAMP">5s</field>
        <value name="MARK">
          <shadow type="clip_dummy_mark"></shadow>
        </value>
      </block>
      <block type="clip_mark_timestamp">
        <field name="TIMESTAMP">5s</field>
        <value name="NEXT_MARK">
          <shadow type="clip_dummy_mark"></shadow>
        </value>
      </block>
      <block type="clip_marks_inline">
        <field name="MARKS">0s, 1s, 2s</field>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykreslovani marker≈Ø</field>
      </block>
      <block type="clip">
        <field name="START">0s</field>
        <field name="DURATION">60s</field>
        <field name="TYPE">DO</field>
        <value name="MARKS">
          <block type="clip_marks">
            <field name="MARKS">$mrk1</field>
          </block>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
    </category>
    <sep></sep>
    <category name="Porty" colour="#9fa55b">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykreslov√°n√≠ na porty v≈°ech za≈ô√≠zen√≠</field>
      </block>
      <block type="siftcanvas_ports">
        <value name="PORTS">
          <block type="siftcanvas_port">
            <field name="PORT">$PORTA</field>
            <value name="NEXT">
              <shadow type="siftcanvas_dummy_port_add"></shadow>
            </value>
          </block>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
      <block type="siftcanvas_port">
        <field name="PORT">$PORTA</field>
        <value name="NEXT">
          <shadow type="siftcanvas_dummy_port_add"></shadow>
        </value>
      </block>
    </category>
    <category name="Tangle" colour="#a5745b">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Definice Tangle</field>
      </block>
      <block type="tangle_definition">
        <field name="TANGLE_LABEL">$tan1</field>
        <value name="PIXELS">
          <block type="tangle_port">
            <field name="PORT">'A'</field>
            <field name="DEVICE_LABEL">$dev1</field>
            <field name="REVERSE">FALSE</field>
            <value name="PIXELS">
              <shadow type="tangle_dummy_pixels_extend"></shadow>
            </value>
          </block>
        </value>
      </block>
      <block type="tangle_port">
        <field name="PORT">'A'</field>
        <field name="DEVICE_LABEL">$dev1</field>
        <field name="REVERSE">FALSE</field>
        <value name="PIXELS">
          <shadow type="tangle_dummy_pixels_extend"></shadow>
        </value>
      </block>
      <block type="tangle_pixels">
        <field name="DEVICE_LABEL">$tan1</field>
        <field name="RANGE_FROM">0px</field>
        <field name="RANGE_COUNT">60px</field>
        <field name="RANGE_STEP">1px</field>
        <value name="PIXELS">
          <shadow type="tangle_dummy_pixels_extend"></shadow>
        </value>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykresov√°n√≠ na Tangle</field>
      </block>
      <block type="siftcanvas_tangles">
        <value name="TANGLES">
          <block type="siftcanvas_tangle">
            <field name="TANGLE_LABEL">$tan1</field>
            <value name="NEXT">
              <shadow type="siftcanvas_dummy_tangle_add"></shadow>
            </value>
          </block>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
      <block type="siftcanvas_tangle">
        <field name="TANGLE_LABEL">$tan2</field>
        <value name="NEXT">
          <shadow type="siftcanvas_dummy_tangle_add"></shadow>
        </value>
      </block>
    </category>
    <category name="Skupina" colour="#a55b80">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Definice skupiny</field>
      </block>
      <block type="group_definition">
        <field name="GROUP_LABEL">$grp1</field>
        <statement name="BODY">
          <shadow type="group_dummy_tangle"></shadow>
        </statement>
      </block>
      <block type="group_port">
        <field name="PORT">&amp;PORTA</field>
        <field name="SHIFT">0s</field>
      </block>
      <block type="group_tangle">
        <field name="TANGLE_LABEL">$tan1</field>
        <field name="SHIFT">0s</field>
      </block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Vykreslov√°n√≠ ve skupinƒõ</field>
      </block>
      <block type="siftcanvas_groups">
        <value name="GROUPS">
          <block type="siftcanvas_group">
            <field name="GROUP_LABEL">$grp1</field>
            <value name="NEXT">
              <shadow type="siftcanvas_dummy_group_add"></shadow>
            </value>
          </block>
        </value>
        <statement name="BODY">
          <shadow type="drawing_dummy"></shadow>
        </statement>
      </block>
      <block type="siftcanvas_group">
        <field name="GROUP_LABEL">$grp1</field>
        <value name="NEXT">
          <shadow type="siftcanvas_dummy_group_add"></shadow>
        </value>
      </block>
    </category>
    <category name="N√°stroje">
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Koment√°≈ôe a vizu√°ln√≠ oddƒõlovaƒçe</field>
      </block>
      <block type="commentary_block">
        <field name="COMMENT">This is a comment</field>
      </block>
      <block type="commentary_line">
        <field name="COMMENT">This is a comment</field>
      </block>
      <block type="commentary_inline">
        <field name="COMMENT">This is a comment</field>
      </block>
      <block type="commentary_spacer"></block>
      <block type="commentary_line" disabled="true">
        <field name="COMMENT">Inline vlo≈æen√≠ TNGL kodu</field>
      </block>
      <block type="code_inline"></block>
    </category>
  </xml>
  <script src="./lib/tangle-js/vanillaInit.js" type="module"></script>

</body>



</html>